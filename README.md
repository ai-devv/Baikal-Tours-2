# [Baikal Tours](https://baikal.events)

## Команда
1. Жуков Максим -- frontend,
2. Васильева Полина -- UX/UI designer,
3. Ильюшин Александр -- backend (@pointofvoid).

## Краткое описание проекта
Проект предназначен для агрегирования событий Иркутской области, на Байкале в т.ч., популяризации туризма. Удобный поиск событий, бронирование билетов, система оповещений пользователей через email-рассылку.

## Пользователи и их сценарии
1. Обычный пользователь,
2. Организатор (расширенные возможности обычного пользователя),
3. Администратор (полный доступ к сайту).

Основной сценарий пользователя – выбрать событие и зарегистрироваться на него. Сделать он это может с главной страницы: попав на каталог событий или через «квиз». Квиз – это процесс из двух шагов, который автоматически применит нужные фильтры для пользователя и «перекинет» на страницу каталога событий. В каталоге событий пользователь выбирает непосредственно событие, узнаёт о нём всю информацию и, при желании, регистрируется на него. Зарегистрироваться могут только зарегистрированные на сайте пользователи. Билеты можно оформить на имя, отличное от того, которое указано при регистрации. При оформлении билетов создаётся «бронь», которую можно либо оплатить, либо отменить. Пользователь также может взаимодействовать с личным кабинетом, меняя свои данные, узнавая о неоплаченных бронях и о прошедших и предстоящих событиях. Если пользователь в течение некоторого времени не оплатил билеты, то ему придёт email-уведомление об этом.

Организатор может делать всё то же самое, что и обычный пользователь, но у него в личном кабинете присутствует возможность отслеживать статистику по тем событиям, на которых он отмечен как организатор. Также он имеет возможность выгрузить в файл формата «.xlsx*» некоторую сводку актуальных данных по каждому событию. Вдобавок ко всему, в личном кабинете организатора показывается суммарный баланс по всем событиям. Эти средства доступны ему для «снятия», для этого он может оформить заявку на вывод средств, которую любой администратор может либо отклонить, с некоторой причиной, либо принять.

Администратор же может делать всё, что и обычный пользователь, также наделён теми же возможностями, что и организатор, при условии, что есть события, где он отмечен как таковой. Также у него есть доступ в панель администратора, где он может производить все необходимые действия с сайтом.

## Определения
1. Локации – иерархический трёхуровневый справочник, содержащий в себе перечень всех локаций, которые могут быть использованы в других сущностях. Содержит только название локации. При «прикреплении» локации к событию появляется возможность выставить конкретные координаты и точный адрес с помощью встроенной карты.
2. Тематики – справочник, содержащий в себе перечень всех тематик, которые могут быть прикреплены к событию.
3. Трансферы – справочник, содержащий в себе перечень всех трансферов, которые могут быть прикреплены к событию.
4. Компаньоны – справочник, содержащий в себе перечень названий, которые можно трактовать как «с кем можно пойти на событие?». Т.е., например, «с ребёнком».
5. Событие – сущность, описывающее какое-либо мероприятие (название, описание, локации, фотографии, даты, билеты и т.д.).
6. Билеты события/дополнительные услуги события – конкретные варианты билетов/доп. услуг. Если у события присутствуют билеты то, для участия в событии, необходимо купить хотя бы один билет. Дополнительные услуги не являются обязательными к покупке.
7. Экскурсии/туры – сущности, описывающие, какие есть экскурсии или туры, в каких локациях, за какую цену. Прикрепляются к событиям. Нужны, чтобы пользователь при бронировании билетов мог выбрать куда ещё можно сходить.
8. Отели – сущности, описывающие, какие отели можно использовать для прикрепления к событиям. Нужны, чтобы пользователь при бронировании билетов мог выбрать отель.
9. Подборки – сущность, содержащая в себе перечень событий, где у каждого есть своё описание. У подборки есть локации и тематики. Нужны для объединения событий, допустим, по одной тематике. Пользователю так проще выбрать конкретное событие.
10. Избранные событие – сущность, объединяющая в себе не более 4х событий одной тематики. Также есть избранные события без тематики, максимум 4 штуки.
11. Заявки на выплату средств – у события есть организаторы и баланс. Баланс формируется из оплаченных броней. Каждый организатор может запросить некоторую сумму на вывод, не превышающую текущий баланс события (создать заявку), которая может быть отклонена или принята.
12. Пересечения – на сайте есть каталог событий. В нём можно выбрать несколько фильтров, например, локации, тематики, даты и т.д. Пересечение – это сущность, которая содержит некую информацию для сочетание определённых фильтров. Допустим, пользователь выбирает локацию «Иркутск» и тематику «Спорт». Получается URL «irkutsk_sport». Для такого «пересечения» и задаётся некоторая информация.
13. Авто-перевод – в запросах к серверу есть возможность указывать, какие данные необходимо перевести, с какого языка и на какой. Во всех запросах поддерживается авто-перевод, либо авто-транслитерация текста на указанные языки в запросе. Необходимо для функционирования интернационализации.

## Backend (функциональные возможности)
1. Работа со справочниками (создание/удаление/изменение/чтение локаций, тематик и трансферов).
2. Работа с событиями:
    2.1. Создание/редактирование события (title, короткое описание, полное описание, URL, название, фотографии, выбор главного изображения, создание ALT-тега к главной фотографии, создание дат, проставление локаций, тематик, трансферов, компаньонов, названия организатора, проставление организаторов из справочника пользователей, контактов, соц. сетей, билетов, дополнительных услуг, партнёров события, прикрепления экскурсий, туров и отелей).
    Также, у события есть «статус»: активное, скрытое, в архиве. Если событие «скрытое» или «в архиве», то оно не показывается обычным пользователям при выдаче, не участвует в рассылках, подборках и т.д.
    2.2. Получение множества событий по конкретному языку. Возможность разбиение результата по страницам, фильтрации по дате начала, дате окончания, локациям, компаньонам, тематикам, начальной цене и конечной цене. Возможность поиска по ключевым словам (название и полное описание события). Для администраторов есть возможность получать события с любым статусом.
    2.3. Получение одного события по URL (super-festival-veka).
    2.4. Автоматическое архивирование события по истечению последней даты окончания события.
    2.5. Оформление броней на событие, отмена броней на событие, оплата броней события через Сбербанка (используется платёжный API).
    2.6. Письменное оповещение организаторов в некоторый период времени о том, сколько человек зарегистрировано на событие, какие билеты/доп. услуги куплены/забронированы.
    2.7. Выгрузка подробных данных о купленных/оплаченных билетах и доп. услугах по событию в файл формата «.xlsx». Доступно только для организаторов события.
    2.8. На странице события показываются два ближайших события, которые подходят по датам и тематикам.
3. Работа с пользователями:
    3.1. Регистрация пользователя (имя, фамилия, телефон, email, язык). Пароль создаётся случайным образом и отправляется пользователю письмом. В базу данных сохраняется хеш пароля и соль.
    3.2. Вход пользователя по почте или телефону.
    3.3. Восстановление пароля по почте. Восстановление возможно максимум 4 раза за 30 дней. При восстановлении новый пароль также высылается на почту.
    3.4. Получение пользователей с возможностью поиска по имени, фамилии, телефону и почте. Только для администраторов.
    3.5. Получение/изменение/удаление одного пользователя. Для администратора – любого, для обычного пользователя – только самого себя.
    3.6. Также, администратор может поменять роль пользователя.
    3.7. Получение событий, где пользователь является организатором.
    3.8. Получение всех заявок пользователя на вывод средств.
4. Работа с экскурсиями/турами (т.к., на самом деле, это идентичные сущности):
    4.1. Создание/редактирование (название, сайт, дата начала, дата окончания, локации, цена, изображение).
    4.2. Получение множества сущностей с возможностью фильтрации по дате начала, дате окончания, локациям.
    4.3. Получение одной сущности по id.
    4.4. Сущности можно «привязать» к событию, тогда на странице события они будут показываться. Важно, если у события нет прикреплённых сущностей, тогда сущности получаются автоматически с фильтрацией по локациям события.
5. Работа с отелями:
    5.1. Изначально отели были «спарсены» с сайта booking по определённым критериям, это была изначальная база.
    5.2. Также, из всех локаций всех отелей был составлен справочник локаций отелей (локации букинга).
    5.3. Создание/редактирование (название, ссылка на booking, фотография, цена, рейтинг, локация букинга).
    5.4. Получение множества отелей с возможностью разбиения результата по страницам, фильтрации по локациям и локациям букинга. Возможность поиска по названию отеля.
    5.5. Удаление отеля по id.
    5.6. Прикрепление отеля к событию. Если у события не будет прикреплённых отелей, то они автоматически получатся с сервера с фильтрацией по тем же локациям, что и у события.
6. Работа с подборками:
    6.1. Создание/редактирование подборки (URL, title, название, слоган, описание, локации, тематики, изображение). К каждой подборке можно прикрепить события, задав для каждого из них уникальное описание в рамках подборки.
    6.2. Получение всех подборок с возможностью фильтрации по локациям, тематикам, дате начала и дате окончания.
    6.3. Получение подборки по URL.
    6.4. Удаление подборки по id.
7. Работа с избранными событиями:
    7.1. Создание/редактирование избранных событий по конкретной тематике. Для избранных событий без тематики, соответственно, тематика не нужна. Учитывается порядок элементов.
    7.2. Получение всех избранных событий с возможностью фильтрации по тематикам. Для избранных событий без тематики реализовано получение всех событий.
8. Работа с заявками на выплату:
    8.1. Создание заявки (получатель, банк, номер аккаунта, бик, инн, кпп, сумма). Только для организаторов события.
    Допустим, у организатора 3 события. На одном событии 10000 рублей, на другом 5000 рублей, а на третьем 1000р. Если он запросит вывод средств на 11000 рублей, то сначала будет выбрано первое событие, т.к. у него баланс больше всего, из баланса этого события вычитается 10000 рублей, далее из баланса события, у которого 5000 рублей, вычитается ещё 1000 рублей.
    8.2. Принятие заявки. Подразумевается, что человек лично переводит деньги, а через приложение лишь подтверждает этот факт.
    8.3. Отклонение заявки. Тоже самое, но ещё указывается причина отказа, а также все деньги, зарезервированные для вывода, возвращаются на балансы тех событий, с которых были вычтены.
9. Работа с пересечениями:
    9.1. Создание/редактирование пересечения (slug – часть URL, описание, интро-текст, заголовок, title). Редактирование по id.
    9.2. Получение всех пересечений.
    9.3. Получение одного пересечения по slug.
    9.4. Удаление пересечения по id.
10. Работа с картой сайта (sitemap.txt):
    10.1. Есть возможность сгенерировать карту сайта. Автоматически в неё заносятся следующий ссылки:
        10.1.1. Собственная ссылка
        10.1.2. /events
        10.1.3. Ссылки всех активных событий
        10.1.4. Ссылки всех подборок
        10.1.5. Ссылки всех пересечений
    10.2. Есть возможность подправить руками, дописать что-то.
    10.3. Получить карту сайта.
11. CRON-демон. Был написан для другого проекта и успешно внедрён в этот. Служит для выполнения некоторых задач (периодических и нет) во времени. К примеру: отправка писем раз в месяц, уведомление организаторов события раз в неделю актуальными данными о событии.
Написан таким образом, что сохраняет своё состояние в базе данных, т.е. завершая работу сервера и снова возобновляя её, CRON-демон продолжит функционировать и выполнять ранее сохранённые задачи.
12. Интернационализация – поддержка нескольких языковых версий сайта.
13. Система ролей у пользователей. Необходимо, чтобы «защищать» отдельные части приложения (т.н. «роуты»).
14. Поддержка загрузки файлов. В данном проекте – изображений к разным сущностям.
15. Работа с базой данных «PostgreSQL».
16. Работа с сессиями (использован модуль «express-session» для сохранения пользовательских сессий в базу данных и синхронизации этих данных с запросами на сервере).
17. Почтовый «модуль». Реализована система, при которой письмо делится на три части:
    17.1. Разметка.
    17.2. Шаблон текста с некоторыми вставками «{…}» (например, «Привет, {name}!»).
    17.3. Данные.

Таким образом, сначала мы считываем из файла разметку письма, затем из базы получаем все шаблонные тексты нужных языков, необходимые данные на нужных языках, формируем письма (подставляем шаблонный текст в разметку, данные в шаблонный текст) и затем отправляем их пользователям. Это позволяет достичь гибкости разработки писем, разделения обязанностей и поддержки интернационализации.
18. Написан небольшой «хелпер» для преобразования данных из базы данных. Как мы знаем, данные из базы приходят в виде «плоской» структуры. Но иногда нам хотелось бы достичь вложенности. К примеру, мы хотим получить авторов, а затем все статьи каждого автора, и чтобы в объекте «authors» можно было получить данные следующим образом «authors[0].articles».
19. Написана своя «обёртка» над функцией «fetch» – стандартной функцией из JavaScript. Необходима для того, чтобы гибко управлять параметрами запроса и использовать это как на клиенте, так и на сервере.
20. Написано ещё несколько «малозначительных хелперов», о которых я могу рассказать подробнее, если это требуется.

**В ходе проекты были разработаны некоторые модули, описанные ранее (переводчик, email-сервис, CRON-демон, преобразование данных из базы данных).**

## Frontend (функциональные возможности)

### Страницы портала:
1. Главная страница сайта. 
На ней пользователь видит лендинг о самом портале. Присутствует квиз, при помощи которого пользователь может перейти на страницу каталога с примененными фильтрами. Присутствует блок с подборками событий, если такие созданы. Присутствует блок с избранными событиями для главной страницы, если такие заданы. Присутствует блок с переключением языка
2. Каталог событий.
Страница, на которой выводятся все активные события в виде их карточек. Присутствует блок с фильтрацией всего каталога по дате, локации, компаньонам, тематикам и цене. Присутствует блок с подборками событий (показываются либо все подборки, если фильтры неактивны, либо подборки, который подходят под фильтры, либо ничего не выводится, если подборки не созданы).
Аналогично подборкам, на странице есть избранные события по определенным тематикам (не более 4-х карточек). Для каждой из комбинации фильтров (например irkutsk_sport) есть возможность задать пересечение. Если такое пересечение существует, то также выведется описание фильтра и его название (также создастся тег `<meta name="description" content="*описание для поисковиков*">` )
3. Страница события
На этой странице выводятся практически все данные, которые создаст для него администратор, а именно: название, короткое описание, полное описание, тематики, даты, фотографии, партнеры, контакты, страницы в соц-сетях, сайт события, локации, билеты, цены (формируются исходя из билетов), доп. услуги, фотографии из instagram, title, экскурсии, туры, отели. Если пользователь зарегистрирован на портале, он может зарегистрироваться на сайте, заполнив данные о себе, выбрав дату (если необходимо), выбрав билеты и доп. Услуги. При успешном бронировании билета, пользователь может сразу оплатить его. Если же администратор выбрал регистрацию на событие на стороннем ресурсе, вместо формы оплаты будет ссылка на сайт с оплатой. Если существуют события по тематикам, которые присутствуют в выбранном событии, 2 ближайших появятся на странице
4. Страница подборки
Подборка состоит из названия, описания, слогана и самих карточек событий, которые администратор включит в подборку.
5. Личный кабинет
    5.1. Настройки аккаунта
На данной странице пользователь может изменить свои контактные данные, сменить пароль, выбрать любимые тематики для дайджеста и периодичность, с которой на его почту будет приходить дайджест
    5.2. Мои события
На данной странице пользователь может увидеть события, которые еще не прошли и которые прошли. На карточке события будут выводиться его билеты, которые он купил, и дата, на которую он зарегистрировался. В случае, если при регистрации на событие пользователь не оплатил билет, на карточке появятся кнопки “отменить бронирование” и “оплатить событие”, при нажатии на которые будут происходить соответствующие действия
    5.3. Кабинет организатора
Страница доступна пользователю только если он является организатором хотя бы одного события.  На ней организатор может увидеть свой баланс (формируется из суммы всех купленных билетов и доп. услуг из всех событий), форму для вывода средств, информацию о своих прошлых выводах (если такие были) и все события, на которых он является организатором с подробным описанием, сколько куплено билетов, доп. услуг, общую сумму. Может скачать список зарегистрировавшихся для каждого события для программы excel
6. Карта событий
На нее пользователь может перейти только из страницы каталога, причем при переходе сохранятся все фильтры, которые применяются в каталоге. На странице присутствует карта, на которой присутствуют метки всех событий. Присутствует блок с поиском и списком всех событий, которые есть на карте. При поиске локации, пользователь увидит максимум 3 улицы, которые подходят по подстроке. При выборе одной из этих локаций, пользователь увидит события, которые проходят по этому адресу. При нажатии на метку на карте, пользователь увидит карточку события, которое проходит по этому адресу.
7.	Админка
    7.1. События
    На этой странице, как и на странице каталога событий, администратору показываются все события. Из фильтров доступны только поиск по подстроке, тематике и локации. Присутствует возможность просматривать только активные/скрытые(не показываются пользователям)/архивные(не показываются пользователям, закончилось время проведения) события (соответствующий статус показывается на карточке события)
    7.2. Страница события
    Как и на странице события для обычных пользователей, выводится вся информация о событии, только в более простой форме. На этой странице администратор может сменить статус события. 
    7.3. Страница редактирования и создания события
    На этой странице администратор полностью наполняет событие, включая те поля, которые могут не видеть пользователи (могут работать например для фильтрации, meta-тегов и т.д.). На странице можно заполнить такие данные, как: title, короткое описание, полное описание, URL, название, фотографии, выбор главного изображения, создание ALT-тега к главной фотографии, создание дат, проставление локаций, тематик, трансферов, компаньонов, названия организатора, проставление организаторов из справочника пользователей, контактов, соц. сетей, билетов, дополнительных услуг, партнёров события, прикрепления экскурсий, туров и отелей, вариант участия, заголовок для instagram ленты, чекбокс для отображения instagram ленты.
    При создании события, все поля, которые подлежат интернационализации, автоматически переводятся через yandex translate. При редактировании перевод уже не работает ради точечного редактирования текста на разных языках
    7.4. Пользователи
    На странице отображается таблица со всеми пользователями портала с самой важной информации о них. Возможен конкретного пользователя по подстроке
    7.5. Информация о пользователе
    На странице предоставлена основная информация о пользователе, включая все его контактные данные и события, на которые он зарегистрировался. Если пользователь является организатором, администратор не может просмотреть его события
    7.6. Справочники
    На странице отображаются 3 списка из справочников: локации, тематики и трансферы
        7.6.1. Локации
        На странице редактирования локаций администратор может как добавлять новые локации, так и редактировать текущие. При создании администратор должен выбрать один из трех уровней списка и куда он хочет добавить новую локацию. Обязательно проставление только у имени локации, которая автоматически переведется на все языки при сохранении. Также администратор может создать URL для этой локации (если не создаст, то он автоматически создастся путем транслитерации имени локации на русском языке). Также администратор может проставить синоним локации на  booking, чтобы из нашего “Иркутска” подтягивались данные из “Иркутска” booking`а (на странице любого события). Присутствует автосохранение
        7.6.2. Тематики
        Редактирование и создание тематик. При создании необходимо указать только название тематики и, при желании, URL для тематики. Аналогично локациям, если URL не будет задан, то проставится автоматически. Автосохранение отсутствует, только при нажатии на кнопку. Автоперевод при создании имеется
        7.6.3. Трансферы
        Самый простой справочник, который состоит только из названия трансфера. Можно добавлять или редактировать. Сохранение при нажатии на кнопку. Автоперевод при создании имеется
    7.7. Экскурсии/туры
    2 практически идентичных справочника. На странице экскурсий/туров высвечиваются все карточки экскурсий/туров
    7.8. Редактирование и создание экскурсий/туров
    Администратор на странице указывает: название экскурсии/тура, сайт экскурсии/тура, изображение, цену, дату начала, дату окончания и локации.
    При создании сработает автоперевод полей на другие языки
    7.9. Отели
    На странице указаны все отели, которые были получены из booking.com. Есть возможность фильтрации по подстроке и локации ИЗ СПРАВОЧНИКА ПОРТАЛА, а не из локаций booking`a. 
    7.10. Создание и редактирование отеля
    Администратор на странице указывает: название отеля, страница отеля на booking, фотография отеля, цена отеля, рейтинг отеля и локацию из booking. При создании отеля, все данные автоматически переводятся
    7.11. Подборки
    На странице подборок выведены все карточки подборок
    7.12. Создание и редактирование подборки
    Администратор на странице указывает: Заголовок подборки, URL(если не проставит, создастся автоматически путем транслитерации заголовка события), title, tagline (слоган), описание подборки, фотография подборки, дата, тематика, локации и события. Автоматически переводится при создании
    7.13. Избранные события
    Избранные события разбиваются по 4 события на тематику и для главной страницы. Для главной страницы Администратор может выбрать любые события, а для тематик событие должно подходить конкретной тематике (автоматическая фильтрация присутствует). Есть возможность менять местами события путем перетаскивания. При добавлении события есть возможность искать событие по подстроке
    7.14. Заявки на выплаты
    На данной странице администратор видит все заявки на выплаты, которые запросили организаторы событий. Администратор может как одобрить выплату, так и отклонить, указав причину, которую увидит организатор на странице организатора. На каждой выплате администратор видит все данные для выплаты и сумму.
    7.15. Пересечения
    На данной странице администратор видит все пересечения в кратком виде. Есть возможность поиска пересечения для подстроки
    7.16. Редактирование и создание пересечения
    Администратор на странице может указать: URL пересечения (формируется путем выбора локаций и тематик. Подставляется их URL и склеивается по символу _), title, h1, description и intro. При создании поля автоматически переводятся на другие языки
    7.17. Sitemap
    На данной странице администратор может сформировать, отредактировать и сохранить файл sitemap.txt, который будет хранить в себе ссылки на все события, подборки и остальные страницы, необходимые для индексации поисковиками
    7.18. Дайджест
    Дайджест отправляется пользователям в определенный перод времени. Для этого создана возможность обновления времени дайджеста, что и делает эта страница

### Дополнительные компоненты для портала:

1. Шапка сайта
Через эту шапку пользователь может перейти на страницу каталога, изменить язык, перейти на страницу системы, зарегистрироваться в системе, выйти из системы, найти в каталоге события по подстроке, сразу перейти на страницу каталога по определенной категории и посмотреть существующие подборки
2. Окно входа
Пользователь заполняет имя и пароль и входит в систему, если такой пользователь существует
3. Окно регистрации
Пользователь заполняет имя, фамилию, телефон и электронную почту. При успешной регистрации, пользователю на электронную почту отправляется письмо с паролем в системе
4. Окно подтверждения пароля
Когда пользователь получает свой пароль по почте, он вносит этот пароль в систему и он считается полностью авторизированным
5. Окно забытого пароля
Если пользователь забыл пароль, он прописывает свою электронную почту и ему высылается новый пароль, по которому он теперь может войти в систему
6. Подвал сайта
В подвале имеется информация о портале, ссылки на страницы: главная, каталог событий, личный кабинет. Присутствуют ссылки на страницы пользовательского соглашения и политики конфиденциальности. Также присутствуют контакты

### Письма (относится и к backend и к frontend)
1. Письмо о регистрации на сайте
В данном письме указывается почта, которую ввел пользователь, и пароль, который сгенерировала система
2. Письмо о восстановлении пароля
В данном письме указывается новый пароль, который сгенерировала система
3. Письмо о регистрации на событие
В данном письме указывается информация о событии: название, локация и дата
4. Письмо о забронированных билетах
В данном письме указывается ссылка на оплату билетов, список забронированных билетах, информация о событии и данные о пользователе, на которого забронировали билеты
5. Письмо о купленных билетах
Письмо аналогичное письму о забронированных билетах, однако в нем отсутствует информация с ссылкой для оплаты билетов.
6. Напоминание о событии
Отправляется лишь в том случае, если пользователь уже оплатил билеты. Содержит информацию о событии и пользователе, на которого купили билеты. Отправляется за некоторое время до начала события
7. Дайджест
В дайджесте собираются все события по избранным тематикам пользователя. Отправляется с периодичностью, которую выбрал пользователь
8. Письмо о забронированных билетах для организатора события
В данном письме указывается, о каком событии идет речь и полная информация о том, сколько билетов и доп. услуг куплено для этого события, в том числе сколько оплачено, а сколько нет
9. Письмо о назначении организатором события
В данном письме указывается, на какое событие пользователь стал организатором
10. Письмо о снятии организатором события
В письме указывается, на каком событии пользователь теперь не является организатором
11. Письмо о одобрении снятия средств
В данном письме указывается, на какую сумму организатору одобрили выплату
12. Письмо о отказе в снятии средств
В данном письме указывается, на какую сумму отклонили выплату и по какой причине

*P.S.: Наша задача заключалась в обеспечении отказоустойчивости системы, поддержки интернационализации (в т.ч. авто-перевода и авто-транслитерации текстов и интерфейса), проведении пользователя до регистрации на событие и покупки билетов и обеспечении работы email-уведомлений. А также группировки событий в «подборки» и SEO-оптимизации сайта.*
